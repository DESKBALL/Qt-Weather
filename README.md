# 天气查询应用 - Qt 实现

这是一个基于 Qt 框架开发的天气查询桌面应用程序，通过调用心知天气 API 获取实时天气数据和未来天气预报，并以美观的界面展示给用户。

## 功能特点

- 🌤️ 实时天气查询（温度、湿度、风向、空气质量等）
- 📅 未来6天天气预报
- 📊 温度曲线可视化展示（最高温和最低温）
- 🏙️ 支持城市切换查询
- 🎨 自定义无边框UI设计，支持窗口拖动
- ⚡ 响应式布局和美观的天气图标

## 技术栈

- **编程语言**: C++
- **GUI框架**: Qt 5/6
- **网络请求**: QNetworkAccessManager
- **数据格式**: JSON
- **图形渲染**: QPainter

## 项目结构

```
Weather/
├── main.cpp              # 程序入口
├── Weather.pro           # Qt项目配置文件
├── widget.h              # 主窗口头文件
├── widget.cpp            # 主窗口实现
├── widget.ui             # 界面设计文件
└── res.qrc               # 资源文件（图标等）
```

## 构建与运行

###  prerequisites
- Qt 5.12+ 或 Qt 6.x
- C++17 兼容编译器
- 网络连接（用于API请求）

### 构建步骤
1. 使用Qt Creator打开 `Weather.pro` 文件
2. 配置Qt Kit（选择适合的Qt版本和编译器）
3. 点击"构建"按钮编译项目
4. 点击"运行"按钮启动应用

### 或者使用命令行
```bash
qmake Weather.pro
make
./Weather
```

## 使用说明

1. 启动应用后，默认显示当前城市的天气信息
2. 在顶部搜索框中输入城市名称（不需要加"市"后缀）
3. 点击搜索按钮或按回车查询指定城市的天气
4. 查看下方6天天气预报和温度变化曲线
5. 使用右上角的按钮最小化或关闭应用

## API说明

应用使用心知天气API（免费版）：
- 基础URL: `http://v0.yiketianqi.com/free/v2031`
- 参数: appid, appsecret, city等
- 返回数据格式: JSON

> 注意：如需长期使用，建议申请自己的API密钥并替换代码中的appid和appsecret

## 自定义与扩展

### 修改API密钥
在 `widget.cpp` 中修改 `m_url`：
```cpp
this->m_url = "http://v0.yiketianqi.com/free/v2031?appid=YOUR_ID&appsecret=YOUR_SECRET&aqi=1";
```

### 添加新功能
1. 在 `widget.ui` 中添加UI组件
2. 在 `widget.h` 中声明对应的变量和槽函数
3. 在 `widget.cpp` 中实现功能逻辑

### 样式自定义
修改 `widget.ui` 中的样式表或直接修改代码中的样式设置来改变应用外观。

## 注意事项

- 确保网络连接正常以便获取天气数据
- 免费版API可能有调用次数限制
- 无边框窗口设计，可通过顶部拖拽移动窗口位置

## 许可证

本项目仅用于学习和演示目的，请遵守心知天气API的使用条款。

## 可能的问题与解决方案

1. **无法获取天气数据**: 检查网络连接和API密钥有效性
2. **界面显示异常**: 确保所有资源文件已正确加载
3. **编译错误**: 确认Qt版本兼容性和所有依赖项已安装

---

如有任何问题或建议，欢迎提出改进意见！
